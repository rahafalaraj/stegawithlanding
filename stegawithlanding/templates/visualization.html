
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steganography Visualization - Advanced Analysis</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --dark-bg: #0f172a;
            --card-bg: rgba(15, 23, 42, 0.95);
            --text-primary: #e8f4fd;
            --text-secondary: #94a3b8;
            --border-color: rgba(100, 116, 139, 0.2);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-xl: 0 35px 60px -15px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: 
                radial-gradient(circle at 20% 80%, rgba(103, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(245, 87, 108, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #0f172a 0%, #1e293b 25%, #334155 50%, #475569 75%, #64748b 100%);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: 
                conic-gradient(from 0deg at 30% 70%, transparent 0deg, rgba(103, 126, 234, 0.03) 90deg, transparent 180deg);
            animation: cosmicRotation 60s linear infinite;
            z-index: -1;
        }

        @keyframes cosmicRotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Enhanced navigation */
        nav {
            background: var(--card-bg);
            backdrop-filter: blur(20px) saturate(180%);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        nav a {
            color: #4facfe;
            text-decoration: none;
            margin-right: 2.5rem;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 8px;
            display: inline-block;
        }

        nav a:hover {
            background: rgba(79, 172, 254, 0.1);
            transform: translateY(-2px);
            color: #00f2fe;
        }

        /* Enhanced header */
        h1 {
            font-size: clamp(2rem, 4vw, 3.2rem);
            font-weight: 700;
            margin-bottom: 2rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            position: relative;
            letter-spacing: -0.02em;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--accent-gradient);
            border-radius: 2px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(79, 172, 254, 0.5); }
            100% { box-shadow: 0 0 20px rgba(79, 172, 254, 0.8), 0 0 30px rgba(79, 172, 254, 0.6); }
        }

        /* Algorithm badge */
        .algorithm-badge {
            display: inline-flex;
            align-items: center;
            background: var(--accent-gradient);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            margin: 0 auto 2rem;
            box-shadow: var(--shadow-lg);
        }

        /* Enhanced image grid */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 2.5rem;
            margin: 2rem 0;
        }

        .image-item {
            text-align: center;
            background: var(--card-bg);
            backdrop-filter: blur(20px) saturate(180%);
            padding: 2.5rem;
            border-radius: 24px;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border-color);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .image-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
            border-radius: 24px 24px 0 0;
        }

        .image-item:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--shadow-xl), 0 0 40px rgba(79, 172, 254, 0.3);
        }

        .image-item h3 {
            color: #4facfe;
            margin-bottom: 2rem;
            font-size: 1.5rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .image-item img {
            max-width: 100%;
            height: auto;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            transition: all 0.4s ease;
            border: 2px solid var(--border-color);
        }

        .image-item img:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-xl);
            border-color: #4facfe;
        }

        /* Image description */
        .image-description {
            margin-top: 1.5rem;
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.7;
            padding: 1.2rem;
            background: rgba(79, 172, 254, 0.1);
            border-radius: 12px;
            border-left: 4px solid #4facfe;
            font-style: italic;
        }

        /* Info panel */
        .info-panel {
            background: var(--card-bg);
            backdrop-filter: blur(20px) saturate(180%);
            padding: 2rem;
            border-radius: 20px;
            margin: 2rem 0;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .info-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--success-gradient);
            border-radius: 20px 20px 0 0;
        }

        .info-panel h3 {
            color: #4facfe;
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }

        .info-panel p {
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 1rem;
        }

        /* Enhanced back button */
        .back-button {
            background: var(--success-gradient);
            color: white;
            padding: 18px 36px;
            text-decoration: none;
            border-radius: 30px;
            display: inline-block;
            margin: 3rem 0;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
        }

        .back-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .back-button:hover::before {
            left: 100%;
        }

        .back-button:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        /* Image zoom functionality */
        .image-zoom-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .image-zoom-overlay.active {
            display: flex;
        }

        .image-zoom-overlay img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 12px;
            box-shadow: var(--shadow-xl);
        }

        .zoom-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2rem;
            color: white;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .zoom-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }

            .image-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .image-item {
                padding: 2rem;
            }

            nav a {
                margin-right: 1.5rem;
                font-size: 1rem;
            }

            h1 {
                font-size: 2.2rem;
                margin-bottom: 1.5rem;
            }

            .algorithm-badge {
                font-size: 0.85rem;
                padding: 6px 16px;
            }
        }

        @media (max-width: 480px) {
            .image-item {
                padding: 1.5rem;
            }

            .image-item h3 {
                font-size: 1.3rem;
            }

            .back-button {
                padding: 14px 28px;
                font-size: 1rem;
            }

            .info-panel {
                padding: 1.5rem;
            }
        }

        /* Loading animations */
        .image-item {
            opacity: 0;
            animation: slideUp 0.6s ease forwards;
        }

        .image-item:nth-child(1) { animation-delay: 0.1s; }
        .image-item:nth-child(2) { animation-delay: 0.3s; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <a href="/">🏠 Home</a>
            <a href="/tools">🔧 Tools</a>
        </nav>
        
        <h1>🎨 Steganography Visualization</h1>
        
        <div style="text-align: center;">
            <div class="algorithm-badge">
                {{ type }} Hiding • {{ algorithm }} Algorithm
            </div>
        </div>

        <div class="info-panel">
            <h3>🔍 Analysis Overview</h3>
            <p>This visualization shows the steganographic embedding process and reveals where data was hidden within the image. The colored areas in the visualization indicate the precise locations where information was embedded using the {{ algorithm }} technique.</p>
        </div>

        <div class="image-grid">
            <div class="image-item">
                <h3>🔒 Steganographic Result</h3>
                <img src="{{ url_for('uploaded_file', filename=stego_image) }}" alt="Steganographic Image" onclick="zoomImage(this)">
                <div class="image-description">
                    The final image containing your hidden {{ type.lower() }}. Visually identical to the original, but now contains secret data embedded using {{ algorithm }} steganography.
                </div>
            </div>

            <div class="image-item">
                <h3>👁️ Embedding Visualization</h3>
                <img src="{{ url_for('uploaded_file', filename=visualization) }}" alt="Steganography Visualization" onclick="zoomImage(this)">
                <div class="image-description">
                    <strong>Technical Analysis:</strong> Colored regions show exactly where data was embedded. This forensic visualization reveals the {{ algorithm }} embedding pattern and demonstrates the steganographic process.
                </div>
            </div>
        </div>

        <a href="/tools" class="back-button">← Return to Steganography Tools</a>
    </div>

    <!-- Image zoom overlay -->
    <div class="image-zoom-overlay" id="zoomOverlay">
        <span class="zoom-close" onclick="closeZoom()">&times;</span>
        <img id="zoomedImage" src="" alt="Zoomed Image">
    </div>

    <script>
        // Image zoom functionality
        function zoomImage(img) {
            const overlay = document.getElementById('zoomOverlay');
            const zoomedImg = document.getElementById('zoomedImage');
            
            zoomedImg.src = img.src;
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeZoom() {
            const overlay = document.getElementById('zoomOverlay');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close zoom on overlay click
        document.getElementById('zoomOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeZoom();
            }
        });

        // Close zoom on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeZoom();
            }
        });

        // Add smooth page load animation
        document.addEventListener('DOMContentLoaded', function() {
            const elements = document.querySelectorAll('.info-panel, nav, h1, .algorithm-badge');
            elements.forEach((el, index) => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    el.style.transition = 'all 0.6s ease';
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // Add hover effects for images
        document.querySelectorAll('.image-item img').forEach(img => {
            img.style.cursor = 'zoom-in';
            
            img.addEventListener('mouseenter', function() {
                this.style.filter = 'brightness(1.1)';
            });
            
            img.addEventListener('mouseleave', function() {
                this.style.filter = 'brightness(1)';
            });
        });
    </script>
</body>
</html>
